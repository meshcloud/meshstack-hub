<div class="pt-5 ps-5 pe-5" *ngIf="platform$ | async as platform">
  <ng-container *ngIf="breadcrumbs$ | async as breadcrumbs">
    <mst-breadcrumb [breadcrumbs]="breadcrumbs"></mst-breadcrumb>
  </ng-container>
  <div class="pt-5 pb-5">
    <mst-card [label]="platform.title" [borderColorSourceImage]="platform.logo">
      <div class="card-body d-flex justify-content-between align-items-center flex-wrap" card-body>
        <div class="d-flex align-items-center ps-2">
          <mst-logo-circle [title]="platform.title" [sourceImage]="platform.logo" [size]="'md'"></mst-logo-circle>
          <h5 class="ms-3 card-title fw-bold">
            {{ platform.title }}
          </h5>
        </div>
        <div class="mt-3 mt-sm-0 pe-4">
          <a href="https://docs.meshcloud.io/docs/meshstack.how-to.integrate-meshplatform.html" target="_blank"
            rel="noopener noreferrer" class="btn btn-primary">
            <i class="fa-solid fa-arrow-up-right-from-square me-2"></i>Read more in our docs
          </a>
        </div>
      </div>
    </mst-card>
  </div>

  <ng-container *ngIf="templates$ | async as templates">
    <h2 class="fw-bold">{{ platform.title }} building block definitions</h2>
    <p class="mt-2 mb-5" *ngIf="templates.length; else noTemplates">
      These
      <b>{{ platform.title }} building block definitions</b>
      provide pre-configured Terraform modules for automating common cloud tasks
    </p>
    <ng-template #noTemplates>
      <p class="mt-2">No building block definitions</p>
    </ng-template>

    <div class="row mt-4">
      <div class="col-sm-3 mb-3" *ngFor="let template of templates">
        <mst-definition-card [card]="template"></mst-definition-card>
      </div>
    </div>
  </ng-container>
</div>